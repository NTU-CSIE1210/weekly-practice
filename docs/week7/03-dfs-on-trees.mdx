---
sidebar_position: 4
title: 'DFS on Trees'
exercises: []
---

# {frontMatter.title}


## Basic Application: Count valid trees in a tree

:::info[The Task]

You are given a tree $T$. Some vertices are colored to be blue.
Count the number of paths on $T$ such that there is exactly one blue vertex on $T$.

:::

Try this: https://leetcode.com/problems/count-valid-paths-in-a-tree/description/

## Basic Application: Ancestor Query

Given a tree $T$. Your task is to answer for each query $(u, v)$ whether or not $u$ is an ancestor of $v$.

## Important Application: Lowest Common Ancestors

Suppose that there is a rooted tree $T$.
The LCA of two vertices $u$ and $v$ on a tree is defined to be the lowest ancestor $p$ of both $u$ and $v$, denoted as $\textsf{LCA}(u, v)$.

You are given a sequence of $q$ queries $(u_1, v_1), (u_2, v_2), \ldots, (u_q, v_q)$.
For each query find $\textsf{LCA}(u_i, v_i)$.
